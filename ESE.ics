---
---
BEGIN:VCALENDAR
VERSION:2.0{% for day in site.data.events.days %}{% for event in day.events %}
BEGIN:VEVENT{% if event.id %}
UID:{{ event.id %}}{% endif %}
DTSTART;TZID=Europe/Berlin:{{ day.date | date: "%Y%m%d" }}T{{ event.begin | remove: ":" }}00
DTEND;TZID=Europe/Berlin:{% assign start = event.begin | split: ':' %}{% assign duration = event.duration | split: ':' %}{% assign overflow = start[1] | plus: end[1] | divided_by: 60 %}{{ day.date | date: "%Y%m%d" }}T{{ start[0] | plus: overflow | plus: duration[0] | mod: 24 }}00
SUMMARY:{{ event.title | remove: "&shy;" }}
LOCATION:{{ event.location | remove: "&shy;" }}
END:VEVENT{% endfor %}{% endfor %}
END:VCALENDAR
